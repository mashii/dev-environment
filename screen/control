#!/bin/bash

BACKUP_DIR=~/.dev-environment-bak


function uninstall()
{
    mv ${BACKUP_DIR}/screenrc   ~          &> /dev/null
}

function install()
{
    mv ~/.screenrc ${BACKUP_DIR}/screenrc           &> /dev/null

    cp ./screenrc ~/.screenrc
}

function main()
{
    if [[ $# -ne 1 ]]; then
        echo "Usage: $0 [install|uninstall]"
        exit
    fi

    # 创建备份目录
    mkdir -p ${BACKUP_DIR}
    if [[ $? -ne 0 ]]; then
        echo "create backup dir: ${BACKUP_DIR} failed, exit!"
        exit
    fi

    case $1 in
        'install')
            echo 'init screen'
            install
            ;;

        'uninstall')
            echo 'uninstall screen'
            uninstall
            ;;

        *)
            echo "unknown command $1, Usage: $0 [install|uninstall]"
            ;;
    esac
    echo "done"
}

main $@
